# 제목 없음

52 서버 가상화

# 가상화(virtualization)

단일 컴퓨터의 하드웨어 요소를 일반적으로 가상 머신이라고 하는 다수의 가상 컴퓨터로 분할할 수 있도록 해주는 기술
-> 하나의 컴퓨터를 여러 컴퓨터로 분할해 주는 기술
예를 드어 가상화 전에 빌드 서버, 웹서버, 메일서버 3개를 운영하는 컴퓨터가 있다고 치면 이를 가상화시킨다면 하나의 컴퓨터에서 3개의 기능을 모두 할 수 있다.

가상화 전
운영체제: 시스템 하드웨어 자원과 소프트웨어 자원을 운영 관리하는 프로그램
특권명령: 시스템 요소들과 소통할 수 있는 명령 -> OS만 가능
OS는 특권 명령때문에 하나의 하드웨어 시스템당 하나밖에 돌아갈 수 없음
일반 프로그램은 특권 명령이 필요 없기 때문에 많은 프로그램을 동시에 수행 가능 -> 일반 프로그램이기에 OS는 일반프로그램이 아니기에 이게 불가능
가상화가 나타나기 전 까지는 하나의 하드웨어 시스템은 하나의  OS만 실행이 가능했음
즉 일반적인 컴퓨터처럼 직접 OS가 하드웨어에 설치된 상태로만 운영 가능했음

호스트 OS 가상화
물리적 하드웨어 위에 OS를 설치해 그 위에 가상화 소프트웨어와 가상머신을 움직이는 방식이다. 물리 머신 위에 직접 동작하는 OS를 "Host OS"라고 한다. Host OS위에 동작하는 가상화 머신에 설치된 OS를 Guest OS라고 한다.

하이퍼바이저 가상화
Host OS 없이 하드웨어에 하이퍼바이저를 설치하여 사용하는 가상화 방식이다. 하이퍼바이저라는 소프트웨어를 물리 하드웨어 위에 직접 움직여, 하이퍼바이저 위에 개개의 가상머신을 움직이게 한다. 특징으로는 가상머신이 마치 독립한 호스트시스템과 같이 행동한다는 점이다. 하이퍼바이저형은 호스트 OS와 별개로 개별 시스템처럼 행동한다.

1세대 : 완전 가상화(Fully Emulated)
모든 시스템 요소가 애뮬레이터 안에서 돌아감
즉 CPU, 하드디스크, 마더보드 등 모든 요소를 에뮬레이터로 구현하여 OS와 연동
엄청나게 느림

2세대: Paravirtualiztion
Guest OS는 하이퍼 바이저와 통신
하이퍼바이저: OS와 하드웨어 사이에 존재하는 일종의 가상화 매니저
속도의 향상
몇몇 요소의 경우 여전히 에뮬레이터 필요 = 느림

3세대: Hardware Virtual Machine(HVM)
하드웨어에서 직접 가상화를 지원
직접 Guest-OS가 하드웨어와 통신 = 빠른 속도