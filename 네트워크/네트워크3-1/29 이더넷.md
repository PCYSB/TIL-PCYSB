# 제목 없음

29 이더넷

# 오피스 내부를 연결하는 네트워크

## 이더넷이란?

사무실이나 연구실의 장치를 연결하는 네트워크로 개발이 되었다. 다수의 장치가 독자적인 타이밍에 통신을 시작하는 것을 목표로 잡고 패킷 통신을 이용한 랜덤 액세스(각 장치는 독립적으로 데이터를 전송하고 충돌이 발생할 경우에 대비하여 충돌을 감지하고 처리, 한 번에 하나의 액세스만 허용) 방식을 채용 해당 방식에 이용되는 프로토콜은  CSMA/CD이다.

- 가장 대표적인 버스형태 LAN
- 비교적 가까운거리의 네트워크
- 유지비용이 적음
- 전송프로토콜: csma/cd
- 주요장비: 랜카드

## CSMA/CD(Carruer sens mulitpul access / collusion detect)

- LAN의 통신 프로토콜의 종류 중 하나이며, 이더넷 환경에서 사용한다
- Carrier: 네트워크 상에 나타나는 신호
- Carrier Sense Multiple Access/Collision Detetion '대충 알아서 눈치껏 통신하자'라는 방식의 프로토콜이다.

### CSMA/CD의 방식

- 이더넷 환경에서 통신을 하고싶은 PC나 서버는 먼저 네트워크 상에 통신이 일어나는지를 확인을 한다.
- 네트워크 통신이 일어나고 있으면 데이터를 보내지 않고 기다린다.
- 네트워크 통신이 일어나고 있지 않으면 데이터를 네트워크 상에 보낸다.
- 만약, 캐리어가 감지되지 않았을때, 두 PC나 서버가 데이터를 동시에 보내면 이 경우를 Multiple Access(다중 접근)이라고 한다.
- 위 와 같은 상황을 충돌이 발생하였다고 한다.
- 충돌이 일어날시 데이터를 전송했던 두 PC나 서버들은 랜덤 한 시간 동안 기다린 다음 다시 데이터를 전송한다.
- 이런 충돌이 계속해서 15번 일어나면 통신을 끊는다.

### 장점

- 프로토콜 구현이 쉬움(CSMA/CD는 간단한 충돌 감지 및 처리 메커니즘을 사용하므로 비교적 저렴하게 구현)
- 채널이수동적이여서 어느 한기가 고장 나더라도 통신에 영향을 주지 않는다.
- 여러 장치가 동시에 네트워크에 접속하여 데이터를 전송할 수 있는 다중 접속 환경을 제공
- 충돌이 발생하더라도 CSMA/CD는 충돌을 빠르게 감지하고 대기 시간을 최소화

### 단점

- 대규모 네트워크에서는 충돌이 많이 발생하고 대기 시간이 길어질 수 있어 효율성이 감소
- 충돌이 빈번하게 발생하고 대기 시간이 길어지면 네트워크의 효율성이 저하
- 충돌 발생 후의 대기 및 재전송 방식을 사용하므로 선점 기법을 지원하지 않는다.
- 100Mbps 이상의 전송속도시 제대로 작동을 안 함 현대의 고속 전송 방식에는 적합하지 않다.

## CSMA/CA(Carrier sens multipul access / collusion avoidence)

무선네트워크에서 사용되는 방식으로 충돌을 사전에 회피하는 방식으로, 전송 전에 채널 사용여부를 확인하고 일정시간 대기 후 전송 및 성공 여부를 확인하며 충돌 회피를 위하여 전송 타이머를 사용한다

### CSMA/CA의 방식

캐리어 감지

- 송신을 위하는 호스트는 송신 전, 채널의 사용여부를 검사
- 다른 장치가 채널을 사용 중이면 송신자는 충돌을 피하기 위해 일정 시간 동안 대기
충돌 회피
- 충돌을 최소화하기 위해 송신자는 백오프 알고리즘을 사용하여 일정 시간 동안 대기
- 백오프 알고리즘은 송신을 시도하다가 충돌이 감지되면 일정 시간 동안 대기하고, 그 후에 다시 채널을 감지하고 송신을 시도
RTS/CTS 프레임
- 송신자가 데이터를 전송하기 전에 RTS 프레임을 사용하여 수신자에게 전송할 데이터의 양과 전송을 예약할 것
- 신자는 RTS를 받으면 CTS 프레임을 사용하여 송신자에게 채널을 예약하고 데이터 전송에 동의
데이터 전송
- 수신자가 CTS를 보낸 후, 송신자는 일정 시간 동안 채널을 예약하고 데이터를 전송
- 수신자는 데이터를 받아들이고, 다른 장치들은 이 동안에는 데이터를 전송하지 않도록 대기
ACK
- 수신자는 데이터를 정상적으로 받았음을 확인하기 위해 ACK 프레임을 송신자에게 전송
- 송신자는 ACK를 받으면 데이터 전송이 성공적으로 완료된 것으로 판단하고, 그렇지 않으면 재전송을 시도

### 장점

- 충돌을 최소화하기 위한 백오프 알고리즘과 RTS/CTS 프레임을 사용하여 충돌 발생 가능성을 사전에 감지하고 방지. 이로 인해 무선 환경에서의 통신 안정성이 향상
- 충돌 회피를 위한 백오프 알고리즘을 통해 대기 시간을 효율적으로 활용하며, 채널을 더 효과적으로 사용
- RTS/CTS 프레임을 사용하여 채널 예약 및 충돌 회피가 가능하므로, 더 안정적인 데이터 전송이 가능
- 비교적 간단한 알고리즘을 사용하므로 구현이 상대적으로 간단하고 비용이 낮다.

### 단점

- 충돌을 회피하기 위해 대기 시간을 도입하고, 이로 인해 통신의 지연이 발생할 수 있다
- 여전히 Hidden Terminal 문제에 취약하다. Hidden Terminal은 서로 감지할 수 없는 지점으로, 이로 인해 충돌이 발생할 수 있다.
- 무선 환경은 신호 간 간격 등의 불확실성이 존재하므로, 정확한 충돌 감지와 회피가 어렵다.
- 대기 시간이 추가되고, RTS/CTS 프레임을 사용하면 채널 대역폭이 소비되므로 효율성이 감소

## 이더넷 프레임의 구조

이더넷으로 주고받는 데이터 덩어리를 이더넷 프레임이라고 한다. 아래는 이더넷 프레임의 구조다.

### 프리엠블

프레임 시작을 알리는 동기화 비트 패턴으로, 수신 측에서 프레임의 시작을 인식할 수 있게 한다.

### 목적지 MAC 주소

수산할 장치의 물리적 주소인 MAC 주소를 나타낸다. 목적지 주소를 통해 프레임이 올바른 수신자에게 전달되도록 한다.

### 이더타입

프레임 내의 페이로드 데이터 형식을 식별하는 필드로, 상위 계층 프로토콜의 종류를 알려준다.

### 페이로드

전송할 실제 데이터를 담고 있는 부분으로, 일반적으로 최대 1500바이트의 크기를 가진다

### 프레임 체크 시퀀스

프레임의 무결성을 확인하기 위한 오류 검출 코드로, 수신 측에서 프레임의 오류를 검출하는 데 사용된다.