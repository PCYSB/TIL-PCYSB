08-1 장치 컨트롤러와 장치 드라이버

# 장치 컨트롤러
입출력장치는 CPU, 메모리보다 다루기가 더 까다롭다. 그 이유는 아래와 같다.

## 첫째
입출력장치에는 종류가 너무나도 많다.
키보드, 모니터, USB 메모리, CD-ROM, SSD, 마우스 등등 장치가 이렇게 다양하면 장치마다 속도, 데이터 전송 형식 등도 다양하다.
이는 결국 다양한 입출력장치와 정보를 주고받는 방식을 규격화하기가 어렵다는 말이다.

## 둘째
일반적으로 CPU와 메모리의 데이터 전송률은 높지만 입출력장치의 데이터 전송률은 낮다.
CPU와 메모리처럼 전송률이 높은 장치는 1초에도 수 많은 데이터를 주고받을 수 있지만, 키보드나 마우스와 같이 상대적으로 전송률이 낮은 장치는 같은 시간 동안 데이터를 조금씩만 주고받을 수 있다.


물론 종류에 따라 어떤 입출력장치는 CPU나 메모리보다 전송률이 높은 경우도 있지만, 결과적으로 CPU나 메모리와 전송률이 비슷하지 않기 때문에 같은 어려움이 있다.
이러한 이유로 입출력장치는 컴퓨터에 직접 연결되지 않고 **장치 컨트롤러**(입출력 제어기, 입출력 모듈) 라는 하드웨어를 통해 연결된다.
모든 입출력장치는 각자의 장치 컨트롤러를 통해 컴퓨터 내부와 정보를 주고받고, 장치 컨트롤러는 하나 이상의 입출력장치와 연결되어 있다.

## 장치 컨트롤러의 역할
아래와 같은 역할을 통하여 문제들을 해결한다.

### CPU와 입출력장치 간의 통신 중계
입출력장치의 종류가 많아 정보 규격화가 어려웠던 문제는 장치 컨트롤러가 일종의 번역가 역할을 함으로써 해결 가능하다.

### 오류 검출
위의 과정에서 장치 컨트롤러는 자신과 연결된 입출력장치에 문제는 없는지 오류를 검출하기도 한다.

### 데이터 버퍼링
버퍼링이란? 전송률이 높은 장치와 낮은 장치 사이에 주고받는 데이터를 **버퍼**라는 임시 저장 공간에 저장하여 전송률을 비슷하게 맞추는 방법이다.
쉽게 말해 버퍼링은
- 버퍼에 데이터를 조금식 모았다가 한꺼번에 내보내거나
- 데이터를 한 번에 많이 받아 조금씩 내보내는 방법


## 장치 컨트롤러의 내부
여기서는 아주 간단히만 다룰 것이다.

### 데이터 레지스터
CPU와 입출력장치 사이에 주고받을 데이터가 담기는 레지스터. 버퍼 역할을 한다, 최근 주고받는 데이터가 많은 입출력장치에서는 레지스터 대신 RAM을 사용하기도 한다.

### 상태 레지스터
입출력 작업을 할 준비가 되었는지, 입출력 작업이 완료되었는지, 입출력장치에 오류는 없는지 등의 상태 정보가 저장된다.

### 제어 레지스터
입출력장치가 수행할 내용에 대한 제어 정보와 명령을 저장한다.


# 장치 드라이버
새로운 장치를 컴퓨터에 연결하려면 장치 드라이버를 설치해야 한다.
**장치 드라이버**란 장치 컨트롤러의 동작을 감지하고 제어함으로써 장치 컨트롤러가 컴퓨터 내부와 정보를 주고받을 수 있게 하는 프로그램이다.(프로그램이기에 당연히 메모리에 저장된다.)
장치 컨트롤러는 입출력장치를 연결하기 위한 하드웨어적인 통로, 장치 드라이버는 입출력장치를 연결하기 위한 소프트웨어적인 통로이다.
(장치 드라이버를 인식하고 실행하는 주체는 운영체제이다, 즉 운영체제가 장치 드라이버를 인식하고 실행할 수 있다면 그 장치는 컴퓨터 내부와 정보를 주고받을 수 있다.)









