7-2 RAID의 정의와 종류 

# RAID란?

Redundant Aarray of Independent Disks
데이터의 안전성 혹은 높은 성능을 위해서 사용(이게 무슨 말인지는 RAID의 종류를 알아보면 쉽게 이해될 것이다.)
여러 개의 물리적 보조기억장치를 마치 하나의 논리적 보조기억장치처럼 사용하는 기술

# RAID의 종류
RAID의 구성 방법을 **RAID 레벨**이라고 표현하는데, 가장 대중적인 것은 RAID 0, RAID 1, RAID, 4, RAID, RAID 5, RAID 6이 있다.
공부하며 알아본 결과 각각의 RAID 레벨은 하드 디스크의 경우에 따라 적합한 것들이 있다.


## RAID 0
RAID 0은 여러 개의 보조기억장치에 데이터를 단순히 나누어 저장하는 구성 방식이다.

하드 디스크 4개가 있다고 했을 때 아래와 같이 번갈아 가며 데이터를 저장한다. 
즉,  A, B, C, D 라는 데이터들을 디스크의 개수만큼 나뉘어 저장되는 것이다.

1TB 1TB 1TB 1TB

A1   A2   A3   A4

B1   B2   B3   B4

C1   C2   C3   C4

D1   D2  D3   D4

이때 마치 줄무늬처럼 분산되어 저장된 데이터를**스트라입**이라 하고, 분산하여 저장하는 것을 **스트라이핑**이라고 한다.
데이터 처리 속도가 중요한 작업에서 사용되며, 예를 들어 영상 편집이나 게임에서 유용하게 사용된다.

### 장점
- 스트라이핑되면 저장된 데이터를 읽고 쓰는 속도가 빨라진다.
> 만약 하나의 대용량 저장 장치를 이용했다면 여러 번에 걸쳐 읽고 썼을 데이터를 동시에 읽고 쓸 수 있기에 스트라이핑 방식이 해당 예시에서는 이론상 네 배가량 빠르다.

### 단점
- 저장된 정보가 안전하지 않다.
> RAID 0으로 구성된 하드 디스크 중 하나에 문제가 생긴다면 다른 모든 하드 디스크의 정보를 읽는 데 문제가 생길 수 있다.


## RAID 1
RAID 1은 복사본을 만드는 방식이다. 거울처럼 완전한 복사본을 만드는 구성이기에 **미러링**이라고도 부른다.
아래 그림을 보면 RAID 0처럼 데이터 스트라이핑이 사용되긴 했지만 디스크 4개를 모두 활용하여 스트라이핑 하는 0과는 다르게 RAID 1의 경우에는 백업용으로 사용하는 디스크가 있다.

   원본         복사본

1TB 1TB  //  1TB 1TB

A1   A2       A1   A2

B1   B2       B1   B2

C1   C2       C1   C2

D1   D2       D1   D2

중요한 데이터를 보호하기 위해 사용되는 기술로, 예를 들어 회사의 중요한 문서나 데이터베이스 등을 저장할 때 많이 사용된다.

### 장점
- 복구가 매우 간단하다.
> 해당 그림 예제로 똑같은 디스크가 두 개 있는 셈이니, 하나에 문제가 발생해도 잃어버린 정보를 금방 되찾을 수 있다.

### 단점
- 복구가 간단하지만, 어떠한 데이터를 쓸 때 원본과 복사본 두 군데에 사용하기에 쓰기 속도가 RAID 0보다 느리다.
- 하드 디스크 개수가 한정되었을 때 사용 가능한 용량이 적어진다.
> RAID 1의 경우 4TB의 정보를 그대로 저장 가능한 반면 RAID 1의 경우 2TB의 정보만 저장할 수 있다, 나머지 2TB는 복사본을 만드는데 사용하기 때문이다. 결국 많은 양의 하드 디스크가 필요하게 되며, 비용이 증가한다는 단점으로도 이어진다.


## RAID 4
RAID 4는 RAID 1처럼 완전한 복사본을 만드는 대신 오류를 검출하고 복구하기 위한 정보를 저장한 장치를 두는 구성 방식이다. 이때 '오류를 검출하고 복구하기 위한 정보'를 **패리티 비트**라고 한다.
RAID 4에서는 패리티를 저장한 장치를 이용해 다른 장치들의 오류를 검출, 오류가 있다면 복구한다.

1TB 1TB 1TB  // 1TB

A1   A2   A3     패리티 A

B1   B2   B3     패리티 B

C1   C2   C3     패리티 C

D1   D2   D3     패리티 D

일반적으로 대용량 파일 서버나 데이터베이스에서 사용된다.

### 장점
- RAID 1보다 적은 하드 디스크로도 데이터를 안전하게 보관 할 수 있다.

### 단점
- 패리티를 저장하는 디스크에도 데이터를 저장해야 하기때문에 병목 현상이 발생할 수도 있다.

## RAID 5
패리티 정보를 분산하여 저장하는 방식으로 RAID 4의 문제인 병목 현상을 해소하는 방식 RAID 4와는 다르게 패리티를 분산하여 저장하는 방식


1TB 1TB 1TB  //   1TB

A1   A2   A3     패리티 A

B1   B2   패리티 B     B3

C1   C2   패리티 C     C3

패리티 D   D2   D3    D1


### 장점
- 0, 4의 장점을 모두 가져와 병목 현상은 해결하되 패리티를 분산저장하여 어느 한 디스크가 고장나도 안전하게 복구 가능

### 단점
- 디스크가 두 개 이상 고장시 답이 없다.
- 쓰기 작업이 많은 경우 성능이 감소 할 수도

## RAID 6
구성은 기본적으로 RAID 5와 같지만 패리티 정보를 두 개 사용하여 두 개의 디스크가 동시에 고장 났을 때에도 데이터를 복구할 수 있는 RAID 타입이다.
RAID 5에서는 하나의 디스크가 고장 나면 패리티 정보를 이용해 데이터를 복구할 수 있지만, 두 개의 디스크가 동시에 고장 나면 데이터를 복구할 수 없다.

1TB       1TB       1TB       1TB       1TB

A1         A2         A3     패리티 A 패리티A

B1         B2      패리티 B 패리티B    B3

C1      패리티C  패리티 C    C2        C3

패리티 D 패리티D   D1       D2        D3


### 장점
- RAID 5와 달리 디스크가 두 개 고장나도 복구가 가능하다.

### 단점
- 전체 디스크 용량 중 두 개의 디스크 용량을 패리티 정보로 사용하기 때문에, RAID 5보다는 용량 효율성이 낮을 수 밖에 없다.
- 쓰기 작업이 많은 경우에는 성능이 저하될 수 있다.
- 전용 RAID 컨트롤러가 필요하다.(이게 또 비쌈)





