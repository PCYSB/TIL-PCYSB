11-2 CPU 스케줄링 알고리즘

# 스케줄링 알고리즘의 종류

## 선입 선처리 스케줄링
- 준비 큐에 삽입된 순서대로 프로세스들을 처리하는 비선점형 스케줄링 방식
- CPU를 먼저 요청한 프로세스부터 CPU를 할당하는 스케줄링 방식
- **호위 효과**가 발생할 수도 있다.

> - 공정해 보이지만 프로세스들이 기다리는 시간이 매우 길어질 수 있는 부작용이 있는 방식이다.
> - 아래 그림과 같이 고작 2ms를 실행하기 위해서 22ms라는 긴 시간을 기다리는 것과 같은 현상

![alt text](<스크린샷 2024-04-01 180110.png>)

## 최단 작업 우선 스케줄링
- CPU 이용 시간의 길이가 가장 짧은 프로세스부터 실행하는 스케줄링 방식
- SJF 스케줄링(Shortest Job First Scheduling)이라고도 한다.
- 기본적으로 비선점형 스케줄링 알고리즘으로 분류된다, 선점형으로 구현될 수도 있다.

![alt text](<스크린샷 2024-04-01 180127.png>)

## 라운드 로빈 스케줄링
- 선입 선처리 스케줄링에 타임 슬라이스라는 개념이 더해진 스케줄링 방식
- 타임 슬라이스는 프로세스가 CPU를 사용할 수 있는 정해진 시간을 의미한다.

> - 프로세스가 CPU를 정해진 시간을 모두 사용하였음에도 아직 프로세스가 완료되지 않았다면 다시 큐의 맨 뒤에 삽입된다.(이때 문맥 교환이 발생)
> - 타임 슬라이스 크기가 매우 종요한데, 타임 슬라이스가 지나치게 크면 사실상 선입 선처리 스케줄링과 다를 바 없어 호위 효과가 생길수 있고, 지나치게 작을경우 문맥 교환에 발생하는 비용이 커 CPU는 프로세스를 처리하는 일 보다 프로세스를 전환하는 데에 온 힘을 다 쓸 수도 있다.

![alt text](<스크린샷 2024-04-01 180138.png>)

## 최소 잔여 시간 우선 스케줄링
- 최단 작업 우선 스케줄링 + 라운드 로빈 알고리즘을 합친 스케줄링 방식
  
> - 프로세스들은 정해진 타임 슬라이스만큼 CPU를 사용하되, CPU를 사용할 다음 프로세스로는 남아있는 작업 시간이 가장 적은 프로세스가 선택된다.

## 우선순위 스케줄링 
- 프로세스들에 우선순위를 부여하고, 가장 높은 우선순위를 가진 프로세스부터 실행하는 스케줄링 알고리즘
- **기아**현상이 발생할 수 있다.

> - 먼저 준비 큐에 삽입되었음에도 불구하고 운선순위가 높은 프로세스들에 의해 실행이 계속해서 연기될 수 있다.
> - 기아현상을 방지하기 위한 대표적인 기법으로 **에이징**이 있다. 이는 오랫동안 대기한 프로세스의 우선순위를 점차 높이는 방식이다.(공익 대기 발령과 비슷한것 같다.)

![alt text](<스크린샷 2024-04-01 180155.png>)
![alt text](<스크린샷 2024-04-01 180207.png>)
## 다단계 큐 스케줄링
- 우선순위 스케줄링의 발전된 형태
- 우선순위별로 준비 큐를 여러 개 사용하는 스케줄링 방식이다.
  

> - 우선순위가 가장 높은 큐에 있는 프로세스들을 먼저 처리하고, 우선순위가 가장 높은 큐가 비어 있으면 그다음 우선순위 큐에 있는 프로세스들을 처리한다.
> - 큐마다 다른 스케줄링 알고리즘을 사용할 수도 있고, 어떤 큐에는 우선순위가 비교적 높아야 하는 입출력 집중 프로세스가 삽입될 수 있고, 어떤 큐에는 우선순위가 비교적 낮아도 상관없는 CPU 집중 프로세스가 삽입될 수 있다.
> - 우선 순위 큐 순서대로 타임 슬라이스 만큼 실행된다.

![alt text](<스크린샷 2024-04-01 180216.png>)

## 다단계 피드백 큐 스케줄링
- 다단계 큐 스케줄링의 발전된 형태
- 가장 일반적인 CPU 스케줄링 알고리즘

> - 다단계 큐 스케줄링에서는 프로세스들이 큐 사이를 이동할 수 없다. 우선순위가 낮은 프로세스는 계속 연기될 여지가 있다.
> - 기본적으로 다단계 큐 스케줄링과 비슷하게 작동하지만, 프로세스들이 큐 사이를 이동할 수 있다는 점에서 다르다.
> - 다단계 큐 스케줄링에서는 CPU를 비교적 오래 사용해야 하는 CPU 집중 프로세스들은 자연스레 우선순위가 낮아지고, CPU를 비교적 적게 사용하는 입출력 집중 프로세스들은 자연스레 우선순위가 높은 큐에서 실행이 끝난다.
> - 다단계 피드백 큐 스ㅔ줄링에서는 에이징 기법을 이용하여 CPU 이용 시간이 길면 낮은 우선순위 큐로 이동, 낮은 우선순위 큐에서 너무 오래 기다린다면 높은 우선순위 큐로 이동시킬 수 있는 알고리즘이다.